- 웹 → 도메인 → 영속성

### 계층형 아키텍처는 데이터베이스 주도 설계를 유도한다

- 애플리케이션의 목적은 비즈니스를 해결하려는 것. 상태가 아닌 행동을 중심을 모델링해야한다.
- 전통적 계층형에서는 데이터베이스를 생각하고 도메인을 구현하는게 맞다 하지만 비즈니스적으로 생각하면 도메인을 만들어야한다.
- ORM을 사용하면 도메인과 영속성 계층이 강한 결합을 유도하게된다 → 사실상 영속성 코드가 도메인 코드가 녹아들어가 유연하고 선택의 폭을 넓혀주는 계층형의 변경이 어려워진다.

### 지름길을 택하기 쉬워진다

- 계층형은 같은 계층이나 아래에 있는 계층, 컴포넌트만 접근 가능하다는 것
- 위 계층 컴포넌트 사용을 위해 아래로 계층을 계속 내리다보면 영속성이 비대해진다.
- 이런 지름길을 제한하려면 계층형은 선택지가 아니다.

### 테스트하기 어려워진다

- 웹 계층에서 영속성을 직접 접근하면 도메인 로직을 웹 계층에 구현하게 된다.
- 또 웹 계층 테스트에서 영속성도 모킹해야한다.

### 유스케이스를 숨긴다

- 아키텍처는 코드를 빠르게 탐색하는 데 도움이 되어야 한다.
- 넓은 서비스는 테스트하기 어렵고 유스케이스 서비스를 찾기 어려워짐
    - ex) 사용자 등록 유스케이스를 찾을 때 UserService가 아닌 RegisterUserService를 찾으면 수월하다.

### 동시작업이 어려움

- 데이터베이스 주도 설계는 영속성 로직이 도메인 로직과 너무 뒤섞여있어서 각 측면을 개별적으로 작업할 수 없다.
- 코드에 넓은 서비스가 있으면 서로 다른 기능을 동시에 작업하기가 어렵다.

- 올바르게 구축하고 추가적인 규칙을 적용하면 단점을 보완할수 있따.
